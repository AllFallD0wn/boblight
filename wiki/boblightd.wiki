#summary Explanation of the boblightd daemon.

= Introduction =

Boblightd is a daemon that translates light data from clients into commands for external controllers.


= Details =

{{{
Usage: boblightd [OPTION]

  options:

  -c  set the config file, default is /etc/boblight.conf
  -f  fork
}}}

Boblightd needs a [boblightconf config] file so it knows what to do at startup, the default file it tries to open is [boblightconf /etc/boblight.conf], this can be changed with the -c flag, for example: "boblightd -c /home/user/boblight.conf".

By default boblightd does not fork, so if you want to start it from a boot script you should use the -f flag.

Boblightd catches SIGTERM and SIGINT, so it can be stopped by pressing ctrl-c in the terminal it was started at (presuming it didn't fork), or by killall, at which point it will kick off all the clients and shut down the devices properly.

It keeps a logfile at "~/.boblight/boblightd.log" which it opens in append mode, so the file will grow until you remove it.
The log is currently also printed to stdout, it looks something like this:

{{{
2009-12-13 03:00:56 start of log /home/bob/.boblight/boblightd.log
2009-12-13 03:00:56 boblight revision: 213M
2009-12-13 03:00:56 starting ./boblightd
2009-12-13 03:00:56 opening /etc/boblight.conf
2009-12-13 03:00:56 checking config lines
2009-12-13 03:00:56 config lines valid
2009-12-13 03:00:56 building config
2009-12-13 03:00:56 built config successfully
2009-12-13 03:00:56 starting connection handler on *:19333
2009-12-13 03:00:56 starting clients handler
2009-12-13 03:00:56 starting timers
2009-12-13 03:00:56 starting devices
2009-12-13 03:00:56 ambilight1: starting with output "/dev/ttyUSB0"
2009-12-13 03:00:56 ambilight1: setting up
2009-12-13 03:00:56 ambilight1: controller opened
2009-12-13 03:00:56 ambilight1: setup succeeded
2009-12-13 03:00:56 ambilight1: controller closed
2009-12-13 03:01:02 caught SIGTERM
2009-12-13 03:01:02 signaling devices to stop
2009-12-13 03:01:02 signaling connection handler to stop
2009-12-13 03:01:02 signaling clients handler to stop
2009-12-13 03:01:02 signaling timers to stop
2009-12-13 03:01:02 waiting for devices to stop
2009-12-13 03:01:02 disconnecting clients
2009-12-13 03:01:02 clients handler stopped
2009-12-13 03:01:02 ambilight1: closed
2009-12-13 03:01:02 ambilight1: stopped
2009-12-13 03:01:02 waiting for timers to stop
2009-12-13 03:01:02 waiting for connection handler to stop
2009-12-13 03:01:02 connection handler stopped
2009-12-13 03:01:02 waiting for clients handler to stop
2009-12-13 03:01:02 exiting
}}}